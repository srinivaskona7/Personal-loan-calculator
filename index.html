<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Latha's Field Personal Loan Calculation</title>
    <link rel="stylesheet" href="styles.css">
    <!-- MathJax for creative math formatting -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&family=Roboto+Mono:wght@400&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <h1>Latha's Field Personal Loan Calculation</h1>
        <form id="loan-form">
            <label for="loan-amount">Loan Amount in Lakhs:</label>
            <input type="number" id="loan-amount" step="0.5" required placeholder="e.g. 20 or 20.5">

            <label for="interest-rate">Annual Interest Rate (%):</label>
            <input type="number" id="interest-rate" step="0.1" min="1" max="30" required placeholder="e.g. 10.6">

            <label for="loan-term">Loan Term (Years):</label>
            <input type="number" id="loan-term" step="1" min="1" max="30" required placeholder="e.g. 2">

            <button type="submit">Calculate</button>
        </form>

        <!-- Results below input form -->
        <div id="results" style="display:none;">
            <div id="schedule">
                <div id="total-interest-info">
                    <p>Total Interest for the Tenure: ₹<span id="total-interest"></span></p>
                </div>
                <table id="amortization-table">
                    <thead>
                        <tr>
                            <th>Month</th>
                            <th>EMI (₹)</th>
                            <th>Interest Paid (₹)</th>
                            <th>Principal Paid (₹)</th>
                            <th>Total Principal Paid (₹)</th>
                            <th>Total Interest Paid (₹)</th>
                            <th>Remaining Interest (₹)</th>
                            <th>Remaining Balance (₹)</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>

            <div id="loan-details">
                <h2>Loan Details</h2>
                <p><strong>Loan Amount (Principal):</strong> ₹<span id="loan-amount-display"></span></p>
                <p><strong>Annual Interest Rate:</strong> <span id="interest-rate-display"></span>%</p>
                <p><strong>Loan Term:</strong> <span id="loan-term-display"></span> years (<span id="loan-term-display-months"></span> months)</p>
                <p><strong>Monthly Interest Rate (r):</strong>
                    <span id="monthly-interest-rate-mathjax"></span>
                </p>
                <p><strong>Total Number of Payments (n):</strong> <span id="total-payments-display"></span> months</p>
                <h3>Formula to Calculate EMI:</h3>
                <div class="formula-container">
                    <div id="formula-mathjax"></div>
                    <p><strong>Final EMI:</strong> ₹<span id="emi-display"></span></p>
                </div>
            </div>

            <div id="breakdown-months"></div>

            <div id="calculation-summary">
                <h3>Loan Calculation Example</h3>
                <div id="loan-calculation-1">
                    <h4>Loan Example</h4>
                    <p><strong>Loan Amount (Principal):</strong> ₹<span id="loan-amount-1"></span></p>
                    <p><strong>Annual Interest Rate:</strong> <span id="interest-rate-1"></span>%</p>
                    <p><strong>Loan Term:</strong> <span id="loan-term-1"></span> years (<span id="loan-term-1-months"></span> months)</p>
                    <p><strong>Monthly Interest Rate (r):</strong> <span id="r-1"></span></p>
                    <div class="mathjax" id="formula-mathjax-1"></div>
                    <p><strong>EMI ≈ ₹</strong><span id="emi-1"></span></p>
                </div>
            </div>
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>
